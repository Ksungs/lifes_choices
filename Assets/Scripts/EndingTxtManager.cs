using UnityEngine;
using UnityEngine.UI;
using System.IO;
using UnityEngine.SceneManagement;

public class EndingTxtManager : MonoBehaviour
{
    public Text uiText; // UI 텍스트를 연결할 변수
    private int currentIndex = 0; // 현재 텍스트 인덱스
    private int selectedEndingIndex = 0; // 선택된 Ending 인덱스
    public GameObject Shader;

    private string[][] Endings = new string[][]
    {
        // Ending0
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 밝고 활기찬 시작을 했습니다.", // 0
            "청소년기에는 학업에 매진하여 노력 끝에 원하는 대학에 진학하며 자신의 길을 열었습니다.", // 1
            "청년기에는 독립적으로 꿈과 목표를 이루기 위해 노력하며 내면의 성장을 이루었습니다.", // 2
            "중년기에는 안정된 직장에서 성취감을 느끼며 꾸준히 일하며 가족과 함께 삶의 안정을 누렸습니다.", // 3
            "노년기에는 가족과의 시간을 소중히 여기며 평화롭고 따뜻한 마무리를 맞이했습니다.", // 4
            "인생은 균형과 성장이 함께 어우러진 여정이었습니다." // 5
        },
        // Ending1
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 새로운 환경에 잘 적응하고 즐거운 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 다양한 경험에 몰두하며 창의력을 발휘하고 사회성을 키웠습니다.", // 1
            "청년기에는 자신의 목표를 이루는 동시에 연인과의 관계를 소중히 여기며 서로를 지지했습니다.", // 2
            "중년기에는 도전을 선택해 창업에 성공하며 자신의 열정과 노력을 통해 커다란 성취를 이루었습니다.", // 3
            "노년기에는 새로운 취미를 찾고 전 세계를 여행하며 끝없는 호기심으로 풍요로운 삶을 완성했습니다.", // 4
            "인생은 새로운 도전과 열정으로 채워진 풍요로운 시간이었습니다." // 5
        },
        // Ending2
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 즐거운 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 전념하며 성실함으로 목표를 이루는 기반을 다졌습니다.", // 1
            "청년기에는 자신의 꿈과 목표를 최우선으로 두며 독립적으로 삶을 개척했습니다.", // 2
            "중년기에는 안정적인 직장에서 성과를 거두며 만족스러운 커리어를 이어갔습니다.", // 3
            "노년기에는 가족과 함께 조용하고 평화로운 시간을 보내며 따뜻한 추억을 쌓았습니다.", // 4
            "인생은 평온과 성취로 이어진 시간이었습니다." // 5
        },
        // Ending3
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 밝고 활기찬 나날을 보냈습니다.", // 0
            "청소년기에는 학업에 몰두하며 원하는 목표를 향해 묵묵히 나아갔습니다.", // 1
            "청년기에는 자신의 꿈과 목표를 이루는 동시에 연인과의 관계를 깊이 있게 유지하며 서로의 삶을 응원했습니다.", // 2
            "중년기에는 창업에 도전하며 모험심과 열정을 발휘했고, 성공적인 결과를 이루어냈습니다.", // 3
            "노년기에는 새로운 취미를 즐기고 세계를 여행하며 끝없는 탐구심으로 활기찬 삶을 살았습니다.", // 4
            "인생은 열정과 관계로 풍요로웠던 여정이었습니다." // 5
        },
        // Ending4
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 사색적인 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능 활동에 몰두하며 창의적인 재능을 키웠습니다.", // 1
            "청년기에는 독립적으로 목표를 향해 나아가며 꿈을 이루기 위해 노력했습니다.", // 2
            "중년기에는 안정적인 직장에서 성취를 쌓으며 균형 잡힌 삶을 살아갔습니다.", // 3
            "노년기에는 가족과 조용한 시간을 보내며 평온하고 따뜻한 마무리를 맞이했습니다.", // 4
            "인생은 차분함과 균형으로 가득했던 시간이었습니다." // 5
        },
        // Ending5
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 사색적인 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동에 몰두하며 자신만의 창의성을 발휘했습니다.", // 1
            "청년기에는 독립적으로 꿈을 이루기 위해 노력하며 스스로의 길을 개척했습니다.", // 2
            "중년기에는 안정적인 직장에서 커리어를 쌓으며 삶의 균형을 유지했습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기며 활기찬 삶을 마무리했습니다.", // 4
            "인생은 사색과 도전이 조화를 이룬 시간이었습니다." // 5
        },
        // Ending6
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 깊이 있는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능 활동에 몰두하며 창의적이고 다채로운 경험을 쌓았습니다.", // 1
            "청년기에는 자신의 꿈을 이루기 위해 독립적으로 노력하며 스스로의 성취를 이루었습니다.", // 2
            "중년기에는 창업에 도전하여 새로운 길을 열고 열정적인 중년기를 보냈습니다.", // 3
            "노년기에는 가족과의 시간을 소중히 여기며 따뜻하고 평화로운 삶의 마무리를 맞이했습니다.", // 4
            "인생은 창의와 열정으로 이룬 아름다운 여정이었습니다." // 5
        },
        // Ending7
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 어울리며 내면의 깊이를 쌓았습니다.", // 0
            "청소년기에는 예체능 활동과 창의적인 경험으로 다채로운 시간을 보냈습니다.", // 1
            "청년기에는 목표를 향해 독립적으로 노력하며 연인과의 관계를 깊이 있게 유지했습니다.", // 2
            "중년기에는 창업에 도전하며 새로운 도전과 성과를 이루어냈습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기고, 활기차고 의미 있는 마무리를 맞이했습니다.", // 4
            "인생은 내면의 성장과 열정으로 풍요로웠던 시간이었습니다." // 5
        },
        // Ending8
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 생동감 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 학업에 매진하며 노력과 성과로 자신의 가능성을 확장했습니다.", // 1
            "청년기에는 꿈을 이루기 위해 열정적으로 노력하며 연인과의 관계도 조화롭게 유지했습니다.", // 2
            "중년기에는 안정적인 직장에서 성취감을 느끼며 안정된 삶을 이어갔습니다.", // 3
            "노년기에는 가족과 함께 조용하고 따뜻한 시간을 보내며 삶의 평온함을 누렸습니다.", // 4
            "인생은 노력과 안정이 조화를 이룬 시간이었습니다." // 5
        },
        // Ending9
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 생기 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 학업에 전념하며 자신의 가능성을 확장했습니다.", // 1
            "청년기에는 꿈과 목표를 추구하며 연인과의 관계를 균형 있게 유지했습니다.", // 2
            "중년기에는 안정적인 직장에서 성공을 거두며 커리어를 이어갔습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미와 도전으로 활기찬 삶을 마무리했습니다.", // 4
            "인생은 도전과 균형으로 채워진 여정이었습니다." // 5
        },
        // Ending10
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 밝고 즐거운 나날을 보냈습니다.", // 0
            "청소년기에는 학업에 몰두하며 목표를 이루기 위해 노력했습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 자신의 길을 개척했습니다.", // 2
            "중년기에는 창업에 도전하여 열정적으로 새로운 길을 열었고, 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 평화로운 시간을 보내며 행복한 마무리를 맞이했습니다.", // 4
            "인생은 도전과 사랑이 함께한 풍요로운 시간이었습니다." // 5
        },
        // Ending11
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 생기 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 학업에 매진하며 노력과 성취로 미래를 준비했습니다.", // 1
            "청년기에는 자신의 꿈을 독립적으로 추구하며 자신만의 길을 개척했습니다.", // 2
            "중년기에는 창업에 도전하여 새로운 기회를 만들어냈고, 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기며 활기찬 삶을 마무리했습니다.", // 4
            "인생은 열정과 노력으로 이룬 아름다운 시간이었습니다." // 5
        },
        // Ending12
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 생동감 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능과 다양한 경험에 몰두하며 창의력을 발휘했습니다.", // 1
            "청년기에는 독립적으로 목표를 추구하며 스스로의 성취를 이루었습니다.", // 2
            "중년기에는 안정적인 직장에서 커리어를 쌓으며 삶의 균형을 유지했습니다.", // 3
            "노년기에는 가족과 따뜻한 시간을 보내며 조용하고 평화로운 삶의 마무리를 맞이했습니다.", // 4
            "인생은 창의성과 균형이 공존했던 시간이었습니다." // 5
        },
        // Ending13
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 즐거운 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 다양한 경험을 통해 창의성을 키웠습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 스스로의 목표를 이루었습니다.", // 2
            "중년기에는 안정적인 직장에서 성공을 이어갔습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 풍요로운 삶을 마무리했습니다.", // 4
            "인생은 성장과 성취로 가득 찬 여정이었습니다." // 5
        },    // Ending14
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 활기찬 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능과 다양한 활동에 몰두하며 창의적이고 다채로운 경험을 쌓았습니다.", // 1
            "청년기에는 독립적으로 목표를 향해 나아가며 꿈을 이루었습니다.", // 2
            "중년기에는 창업에 도전하며 새로운 길을 개척하고 성공적인 커리어를 만들었습니다.", // 3
            "노년기에는 가족과의 시간을 소중히 여기며 따뜻하고 평화로운 삶을 마무리했습니다.", // 4
            "인생은 열정과 평화로 완성된 시간이었습니다." // 5
        },
        // Ending15
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 생기 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 창의적인 경험에 몰두하며 다채로운 성장을 이루었습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 자신만의 길을 개척했습니다.", // 2
            "중년기에는 창업에 도전하여 새로운 성공의 발판을 만들었습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 모험과 활기로 가득한 삶을 마무리했습니다.", // 4
            "인생은 모험과 창의로 가득한 시간이었습니다." // 5
        },
        // Ending16
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 깊이 있는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 학업에 몰두하며 우수한 성적을 거두고 목표를 이루기 위해 꾸준히 노력했습니다.", // 1
            "청년기에는 자신의 꿈을 향해 독립적으로 나아가며 커리어를 성공적으로 개척했습니다.", // 2
            "중년기에는 안정적인 직장에서 성취감을 느끼며 만족스러운 삶을 이어갔습니다.", // 3
            "노년기에는 가족과 조용히 시간을 보내며 평온하고 따뜻한 삶의 마무리를 맞이했습니다.", // 4
            "인생은 노력과 평온이 조화를 이룬 여정이었습니다." // 5
        },
        // Ending17
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 사색적인 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 몰두하며 지식을 쌓고 목표를 향해 성실히 나아갔습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 자신만의 길을 개척했습니다.", // 2
            "중년기에는 안정적인 직장에서 성취를 이어갔습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 활기찬 삶을 마무리했습니다.", // 4
            "인생은 지식과 탐구로 가득한 시간이었습니다." // 5
        },
        // Ending18
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 깊이 있는 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 매진하며 목표를 향해 꾸준히 노력했고, 우수한 성과를 이루었습니다.", // 1
            "청년기에는 독립적으로 자신의 꿈과 목표를 추구하며 스스로의 길을 개척했습니다.", // 2
            "중년기에는 창업에 도전하여 새로운 길을 열고 열정과 성취로 가득한 삶을 살았습니다.", // 3
            "노년기에는 가족과 함께 따뜻한 시간을 보내며 평화롭고 사랑이 넘치는 삶을 마무리했습니다.", // 4
            "인생은 사랑과 열정으로 이루어진 시간이었습니다." // 5
        },
        // Ending19
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 사색적인 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 전념하며 목표를 위해 꾸준히 노력했고, 우수한 성과를 이루었습니다.", // 1
            "청년기에는 독립적으로 커리어를 쌓으며 자신의 꿈을 이루었습니다.", // 2
            "중년기에는 안정적인 직장에서 성취감을 느끼며 삶을 이어갔습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기고 활기찬 인생을 완성했습니다.", // 4
            "인생은 끊임없는 성취와 배움으로 가득 찬 시간이었습니다." // 5
        },
        // Ending20
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 사색적이고 평온한 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 몰두하여 목표를 향해 노력하며 성취를 이뤘습니다.", // 1
            "청년기에는 독립적으로 자신의 꿈과 커리어를 개척하며 성공적인 삶을 살아갔습니다.", // 2
            "중년기에는 안정된 직장에서 균형 잡힌 삶을 이어가며 만족을 느꼈습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 사랑이 가득한 시간을 보내며 삶을 평화롭게 마무리했습니다.", // 4
            "인생은 균형과 사랑이 조화를 이룬 시간이었습니다." // 5
        },
        // Ending21
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 사색적이고 안정된 시간을 보냈습니다.", // 0
            "청소년기에는 학업에 전념하며 목표를 향해 꾸준히 노력해 성과를 이루었습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 자신의 커리어를 개척했습니다.", // 2
            "중년기에는 안정된 직장에서 커리어를 발전시키며 균형 잡힌 삶을 살았습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 활기차고 풍요로운 인생을 마무리했습니다.", // 4
            "인생은 끊임없는 도전과 발견으로 가득했던 시간이었습니다." // 5
        },
        // Ending22
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 내면을 키우는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 학업에 전념하며 목표를 향한 성실한 노력으로 성과를 이루었습니다.", // 1
            "청년기에는 독립적으로 꿈을 추구하며 커리어를 개척했습니다.", // 2
            "중년기에는 창업에 도전하여 열정적으로 새로운 길을 열었고, 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 조화로운 시간을 보내며 평화롭게 삶을 마무리했습니다.", // 4
            "인생은 새로운 길과 열정으로 채워진 여정이었습니다." // 5
        },
        // Ending23
        new string[] {
            "유년기에는 조용하고 책을 좋아하는 친구와 함께하며 차분하고 내적인 성장을 이뤘습니다.", // 0
            "청소년기에는 학업에 몰두하며 목표를 이루기 위해 꾸준히 노력했습니다.", // 1
            "청년기에는 독립적으로 커리어를 쌓으며 꿈을 향해 전진했습니다.", // 2
            "중년기에는 창업에 도전해 열정적으로 자신의 길을 개척했고, 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기며 모험과 발견으로 가득 찬 인생을 마무리했습니다.", // 4
            "인생은 끝없는 탐구와 열정으로 완성된 시간이었습니다." // 5
        },
        // Ending24
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 어울리며 즐겁고 활기찬 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 다양한 경험을 통해 창의력과 사회성을 키웠습니다.", // 1
            "청년기에는 자신의 목표를 향해 독립적으로 나아가며 꿈을 이루기 위해 노력했습니다.", // 2
            "중년기에는 안정된 직장에서 성취감을 느끼며 균형 잡힌 삶을 살았습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 사랑이 넘치는 시간을 보내며 평화롭게 인생을 마무리했습니다.", // 4
            "인생은 안정과 성취로 빛났던 시간이었습니다." // 5
        },
        // Ending25
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 밝고 즐거운 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 다양한 경험을 통해 창의력을 키웠습니다.", // 1
            "청년기에는 커리어 목표를 이루기 위해 독립적으로 노력하며 꿈을 향해 나아갔습니다.", // 2
            "중년기에는 안정된 직장에서 성취감을 느끼며 균형 잡힌 삶을 살았습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 즐기고 모험과 발견으로 가득한 삶을 완성했습니다.", // 4
            "인생은 창의와 모험으로 완성된 풍요로운 시간이었습니다." // 5
        },
        // Ending26
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 생기 넘치는 어린 시절을 보냈습니다.", // 0
            "청소년기에는 예체능 활동에 열정을 쏟으며 창의적이고 다채로운 경험을 쌓았습니다.", // 1
            "청년기에는 독립적으로 목표를 추구하며 커리어를 쌓아갔습니다.", // 2
            "중년기에는 창업에 도전하며 새로운 가능성을 열고 성공적인 결과를 만들어냈습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 사랑이 넘치는 시간을 보내며 평화로운 인생을 마무리했습니다.", // 4
            "인생은 도전과 가족애로 풍요로웠던 여정이었습니다." // 5
        },
        // Ending27
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 즐겁고 활기찬 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 창의적인 경험으로 다채로운 성장을 이루었습니다.", // 1
            "청년기에는 독립적으로 커리어를 발전시키며 꿈을 이루기 위해 노력했습니다.", // 2
            "중년기에는 안정된 직장에서 성공적인 커리어를 이어갔습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 활기차고 모험 가득한 삶을 완성했습니다.", // 4
            "인생은 모험과 성취로 완성된 시간이었습니다." // 5
        },
        // Ending28
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 밝고 활기찬 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동에 열정을 쏟으며 창의적인 경험을 쌓았습니다.", // 1
            "청년기에는 독립적으로 목표를 추구하며 커리어를 발전시켰습니다.", // 2
            "중년기에는 창업에 도전하며 열정과 도전정신으로 성공을 이루었습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 사랑이 넘치는 시간을 보내며 인생을 평화롭게 마무리했습니다.", // 4
            "인생은 열정과 가족의 사랑으로 가득한 시간이었습니다." // 5
        },
    // Ending29
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 밝고 활기찬 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 창의적인 경험으로 다채로운 성장을 이루었습니다.", // 1
            "청년기에는 독립적으로 목표를 추구하며 커리어를 발전시켰습니다.", // 2
            "중년기에는 창업에 도전하며 새로운 길을 열고 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미를 탐구하며 모험과 발견으로 가득한 삶을 완성했습니다.", // 4
            "인생은 탐구와 도전이 빛났던 시간이었습니다." // 5
        },
    // Ending30
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 즐겁고 활기찬 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 다양한 경험을 통해 창의력을 발휘하며 성장을 이루었습니다.", // 1
            "청년기에는 독립적으로 커리어를 쌓으며 자신의 목표를 이루기 위해 노력했습니다.", // 2
            "중년기에는 창업에 도전하여 열정과 노력으로 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 가족과 함께 따뜻하고 평화로운 시간을 보내며 행복한 삶을 마무리했습니다.", // 4
            "인생은 열정과 평온이 조화를 이룬 시간이었습니다." // 5
        },
    // Ending31
        new string[] {
            "유년기에는 활발하고 인기가 많은 친구와 함께하며 즐겁고 에너지 넘치는 시간을 보냈습니다.", // 0
            "청소년기에는 예체능 활동과 창의적인 경험을 통해 다채로운 성장을 이루었습니다.", // 1
            "청년기에는 독립적으로 목표를 추구하며 커리어를 성공적으로 쌓았습니다.", // 2
            "중년기에는 창업에 도전하여 열정적으로 새로운 길을 열었고, 성공적인 결과를 얻었습니다.", // 3
            "노년기에는 세계를 여행하며 새로운 취미와 모험을 즐기며 활기차고 풍요로운 삶을 마무리했습니다.", // 4
            "인생은 끝없는 모험과 성공으로 가득 찬 시간이었습니다." // 5
        }
    };

void Start()
{
    // 메서드 내부에서는 접근 제어자를 사용할 수 없습니다.
    string filePath = Path.Combine(Application.persistentDataPath, "output.txt");
    
    // 파일을 읽고 Ending 인덱스 설정
    ReadFileAndSetEnding(filePath);

    // 처음 텍스트 설정
    if (Endings[selectedEndingIndex].Length > 0)
    {
        uiText.text = Endings[selectedEndingIndex][currentIndex];
    }
    else
    {
        Shader.SetActive(true);
        uiText.text = "No Ending data available.";
    }
}

void Update()
{
    // 마우스 클릭 감지
    if (Input.GetMouseButtonDown(0))
    {
        ChangeText();
    }
}

void ChangeText()
{
    // 현재 인덱스 증가
    currentIndex++;

    // 배열의 길이를 초과하지 않도록 체크
    if (currentIndex < Endings[selectedEndingIndex].Length)
    {
        uiText.text = Endings[selectedEndingIndex][currentIndex]; // 텍스트 변경
    }
    else
    {
        SceneManager.LoadScene("TitleScene");
    }
}

void ReadFileAndSetEnding(string filePath)
{
    if (File.Exists(filePath))
    {
        // 파일에서 내용 읽기
        string binaryString = File.ReadAllText(filePath).Trim();

        // 2진수 문자열을 10진수로 변환
        if (int.TryParse(binaryString, System.Globalization.NumberStyles.AllowLeadingWhite | System.Globalization.NumberStyles.AllowTrailingWhite, null, out int decimalValue))
        {
            selectedEndingIndex = decimalValue;

            // 배열 범위 초과 방지
            if (selectedEndingIndex >= Endings.Length)
            {
                selectedEndingIndex = 0;
            }
        }
        else
        {
            Debug.LogError("Invalid binary string in file.");
        }
    }
    else
    {
        Debug.LogError("File not found: " + filePath);
    }
}

}
